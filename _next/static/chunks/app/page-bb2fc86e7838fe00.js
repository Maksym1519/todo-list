(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4965:(e,t,s)=>{Promise.resolve().then(s.bind(s,5872))},5872:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var l=s(5155),r=s(547),o=s(2651);let n=async()=>(await o.A.get("https://jsonplaceholder.typicode.com/todos?_limit=10?_limit=10")).data,a=e=>{let{as:t="h1",children:s,className:r="",...o}=e;return(0,l.jsx)(t,{className:"text-center font-bold text-4xl text-white mb-8",...o,children:s})},d=e=>{let{children:t,colorClass:s="",className:r="",type:o,handleClick:n,...a}=e;return(0,l.jsx)("button",{className:"px-6 py-3 text-white rounded-2xl shadow-md transition duration-300 w-[150px] ".concat(s||"bg-blue-600 hover:bg-blue-700"," ").concat(r),type:o,...a,onClick:n,children:t})};var i=s(5906),c=s(5848);let u=async e=>(await o.A.delete("https://jsonplaceholder.typicode.com/todos/".concat(e))).data,x=e=>{let{title:t,id:s}=e,r=(0,i.jE)(),o=(0,c.n)({mutationFn:u,onSuccess:()=>{r.invalidateQueries({queryKey:["todos"]})},onError:e=>{console.error("Error:",e.message),alert("Unable to remove task")}});return(0,l.jsxs)("div",{className:"todo-item flex gap-4",children:[(0,l.jsx)("p",{className:"w-full border border-gray-300 rounded-md px-4 py-2",children:t}),(0,l.jsx)(d,{className:"bg-red-600 hover:bg-red-700",handleClick:()=>{o.mutate(s)},disabled:o.isPending,children:o.isPending?"Deleting...":"Delete"})]})},m=e=>{let{placeholder:t,...s}=e;return(0,l.jsx)("input",{type:"text",placeholder:t,className:"w-full px-4 py-2 text-gray-700 bg-white border rounded-md focus:outline-none focus:ring-2 transition-colors duration-200",...s})},p=async e=>{let t=await o.A.post("https://jsonplaceholder.typicode.com/todos",e,{headers:{"Content-Type":"application/json"}});return console.log("post response:",t),t.data};var h=s(2115);let g=()=>{let[e,t]=(0,h.useState)(""),s=(0,i.jE)(),r=(0,c.n)({mutationFn:p,onSuccess:()=>{s.invalidateQueries({queryKey:["todos"]}),t("")},onError:e=>{console.error("Error:",e.message),alert("Unable to add task")}});return(0,l.jsxs)("form",{className:"flex gap-4 mb-4",onSubmit:t=>{t.preventDefault(),e.trim()&&r.mutate({title:e,completed:!1,userId:1})},children:[(0,l.jsx)(m,{placeholder:"Enter text",value:e,onChange:e=>t(e.target.value)}),(0,l.jsx)(d,{type:"submit",disabled:r.isPending,children:r.isPending?"Adding...":"Add"})]})},j=e=>{let{todos:t}=e;return console.log(t),(0,l.jsxs)("div",{className:"todo-list flex flex-col gap-8 bg-white w-full p-8",children:[(0,l.jsx)(g,{}),t.map(e=>(0,l.jsx)(x,{todo:e,title:e.title,id:e.id},e.id))]})};function b(){let{data:e=[],isLoading:t,error:s}=(0,r.I)({queryKey:["todos"],queryFn:n});return t?(0,l.jsx)("div",{className:"text-center mt-8 text-[2rem] text-white",children:"Download..."}):s?(0,l.jsxs)("div",{className:"text-center mt-8 text-red-600",children:["Error: ",s.message]}):(0,l.jsx)("div",{className:"flex flex-col items-center justify-center mt-24 w-full",children:(0,l.jsxs)("div",{className:"w-full max-w-2xl px-4",children:[(0,l.jsx)(a,{as:"h1",children:"ToDo list"}),(0,l.jsx)(j,{todos:e})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[239,440,441,517,358],()=>t(4965)),_N_E=e.O()}]);